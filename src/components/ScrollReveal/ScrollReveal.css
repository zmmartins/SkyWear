/* =========================================
   CONTAINER & LAYOUT
   ========================================= */
.scroll-reveal {
    height: 220vh; 
    position: relative;
    z-index: 1;
    margin-top: calc(-1 * var(--navbar-height));
}

.scroll-reveal__sticky {
    position: sticky;
    top: 0;
    width: 100%;
    height: 100vh;
    height: 100dvh; /* Mobile browser support */
    overflow: hidden;
}

.scroll-reveal__layer {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    /* No will-change here to prevent stacking context isolation issues */
}

/* --- Layer Z-Index Stacking --- */

/* Layer 1: The Background (Hero) */
.scroll-reveal__layer--back { 
    z-index: 1; 
}
.scroll-reveal__layer--back .hero-carousel {
    margin-top: 0 !important;
}

/* Layer 2: The Glass Orbs */
.scroll-reveal__layer--glass {
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    /* IMPORTANT: No transform or will-change here allows visibility through to the back */
}

/* Layer 3: The Foreground (White Content) */
.scroll-reveal__layer--front {
    z-index: 3;
    background-color: white;
    will-change: clip-path;
}

/* =========================================
   GLASS ORBS
   ========================================= */
.glass-orb {
    position: absolute;
    width: 150vmax;
    aspect-ratio: 1/1;
    border-radius: 50%;
    
    /* Hardware Acceleration Hints */
    backface-visibility: hidden;
    will-change: transform; 
}

/* === VARIANT 1: WEAK ORB === */
.glass-orb--weak {
    z-index: 1;
    
    background: 
        radial-gradient(ellipse 50% 40% at 30% 30%, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0) 60%),
        radial-gradient(ellipse 50% 40% at 70% 70%, rgba(255, 255, 255, 0.10) 0%, rgba(255, 255, 255, 0) 60%),
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0) 70%);
    
    backdrop-filter: saturate(135%) blur(6px) contrast(102%);
    
    box-shadow: 
        inset 10px 10px 20px rgba(255, 255, 255, 0.15), 
        inset -10px -10px 20px rgba(0, 0, 0, 0.10);
    
    border: 1px solid rgba(255, 255, 255, 0.25);
}

/* === VARIANT 2: STRONG ORB === */
.glass-orb--strong {
    z-index: 2;
    
    background: 
        radial-gradient(ellipse 50% 40% at 30% 30%, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 60%),
        radial-gradient(ellipse 50% 40% at 70% 70%, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 60%),
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0) 70%);

    backdrop-filter: saturate(160%) blur(8px) contrast(105%);
    
    box-shadow: 
        inset 10px 10px 20px rgba(255, 255, 255, 0.25), 
        inset -10px -10px 20px rgba(0, 0, 0, 0.15),
        0 0 15px rgba(255, 255, 255, 0.1);
    
    border: 1px solid rgba(255, 255, 255, 0.4);
}

/* =========================================
   SNAP POINTS
   ========================================= */
.scroll-reveal__snap-point {
    position: absolute;
    width: 100%;
    height: 1px;
    scroll-snap-align: start;
    pointer-events: none;
}

.scroll-reveal__snap-point--start { top: 0; }
.scroll-reveal__snap-point--end { top: 120vh; }